<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:lc="http://java.sun.com/jsf/composite/components">

	<h:outputScript library="js" name="charts.js" target="head" />

	<script type="text/javascript">
		function drawCharts() {
			drawChart('Presenças por mês', '#{chartsController.presencesPerMonthModel}', 'presencesPerMonthChart', google.visualization.ColumnChart, { colors: ['#3949ab'] });
			drawChart('Sessões por câmara', '#{chartsController.sessionsPerChamberModel}', 'sessionsPerChamberChart', google.visualization.BarChart, { colors: ['#2f353e'], hAxis: { minValue: 0 }});
			drawChart('Sessões por convênio', '#{chartsController.sessionsPerHealthInsuranceModel}', 'sessionsPerHealthInsuranceChart', google.visualization.PieChart, { legend: { position: 'right' }});
			drawChart('Sessões por mês', '#{chartsController.monthlySessionsModel}', 'monthlySessionsChart', google.visualization.LineChart);
			drawChart('Pacientes por indicação médica', '#{chartsController.patientsPerMedicalIndicationModel}', 'patientsPerMedicalIndicationChart', google.visualization.PieChart, { sliceVisibilityThreshold: 0.0, pieHole: 0.4, colors: ['#e53935', '#3949ab', '#43a047'], legend: { position: 'right' } });
			drawChart('Pacientes por motivos consulta', '#{chartsController.patientsPerConsultationReasonModel}', 'patientsPerConsultationReasonChart', google.visualization.ColumnChart, { colors: ['#00897b'] });
		}
	</script>

	<h:form>
		<lc:headerPanel title="#{msg['title.statistics']}" />

		<div class="content-wrapper">
			<div class="ui-g">
				<div class="ui-g-4">
					<div id="presencesPerMonthChart" class="chart"></div>
				</div>
				<div class="ui-g-4">
					<div id="patientsPerConsultationReasonChart" class="chart"></div>
				</div>
				<div class="ui-g-4">
					<div id="patientsPerMedicalIndicationChart" class="chart"></div>
				</div>
			</div>
			<div class="ui-g">
				<div class="ui-g-4">
					<div id="sessionsPerHealthInsuranceChart" class="chart"></div>
				</div>
				<div class="ui-g-4">
					<div id="monthlySessionsChart" class="chart"></div>
				</div>
				<div class="ui-g-4">
					<div id="sessionsPerChamberChart" class="chart"></div>
				</div>
			</div>
		</div>
	</h:form>
	<script type="text/javascript">
		track('Charts page');
	</script>
</ui:composition>